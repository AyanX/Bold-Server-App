import{j as e,A as p,a as v,b as m}from"./index-DgeiNxLz.js";import{c as w,b as x,L as r,f as k}from"./react-vendor-DJx5KwTp.js";const d=o=>(o||"").toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""),L=()=>{const{id:o}=w(),[a,b]=x.useState(null),[g,u]=x.useState([]),[f,h]=x.useState(!0);if(x.useEffect(()=>{(async()=>{try{const i=(await m.articles.getAll()).data;u(i);let s=o;if(o&&isNaN(Number(o))){const n=i.find(N=>d(N.title)===o);if(n)s=n.id;else{h(!1);return}}if(s){const n=await m.articles.get(s);b(n.data),m.articles.trackView(s).catch(()=>{})}}catch{}finally{h(!1)}})()},[o]),f)return e.jsx("div",{className:"max-w-4xl mx-auto px-4 py-32 text-center",children:e.jsx("div",{className:"animate-pulse text-gray-400",children:"Loading..."})});if(!a)return e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-32 text-center",children:[e.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Article Not Found"}),e.jsx(r,{to:"/",className:"text-[#e5002b] font-bold uppercase tracking-widest hover:underline",children:"Return to Home"})]});const l=g.filter(t=>t.category===a.category&&t.id!==a.id).slice(0,4),j=g.filter(t=>t.id!==a.id).slice(0,3),y=t=>t?t.split(/\n\s*\n/).map(i=>{let s=i.trim();if(s.startsWith("![")&&s.endsWith(")")){const n=s.match(/!\[(.*?)\]\((.*?)\)/);if(n)return{type:"image",src:n[2],alt:n[1]}}return s=s.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>"),s=s.replace(/_(.*?)_/g,"<em>$1</em>"),s=s.replace(/\[(.*?)\]\((.*?)\)/g,'<a href="$2" class="text-[#e5002b] hover:underline" target="_blank" rel="noopener noreferrer">$1</a>'),s.startsWith("> ")?{type:"quote",content:s.slice(2)}:{type:"paragraph",content:s}}):[];return e.jsx("div",{className:"bg-white min-h-screen",children:e.jsxs("main",{className:"max-w-7xl mx-auto px-4 py-12 md:py-20",children:[e.jsx("div",{className:"hidden md:block mb-12",children:e.jsx(p,{type:"leaderboard"})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-16",children:[e.jsxs("div",{className:"lg:col-span-8",children:[e.jsxs("article",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(r,{to:"/",className:"text-xs font-bold uppercase text-gray-400 hover:text-black transition-colors",children:"Home"}),e.jsx("span",{className:"text-gray-300 text-xs",children:"/"}),e.jsx(r,{to:`/category/${a.category.toLowerCase()}`,className:"text-xs font-bold uppercase text-[#e5002b] tracking-widest hover:underline",children:a.category})]}),e.jsx("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-extrabold leading-[1.05] mb-12 text-[#001733]",children:a.title}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between border-y border-gray-100 py-8 mb-12 gap-8",children:[e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("img",{src:`https://i.pravatar.cc/100?u=${a.author}`,className:"w-16 h-16 rounded-full object-cover grayscale",alt:a.author}),e.jsxs("div",{children:[e.jsxs(r,{to:`/author/${encodeURIComponent(a.author)}`,className:"block text-sm font-black uppercase tracking-widest text-black hover:text-[#e5002b] transition-colors",children:["By ",a.author]}),e.jsxs("span",{className:"text-xs text-gray-500 font-medium uppercase tracking-tighter",children:[a.date," • ",a.readTime]})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-xs font-bold uppercase tracking-widest text-gray-400 mr-2",children:"Share"}),["X","FB","LN","WA"].map(t=>e.jsx("button",{className:"w-10 h-10 rounded-full border border-gray-200 flex items-center justify-center text-xs font-bold transition-all hover:bg-[#001733] hover:text-white hover:border-transparent",children:t},t))]})]}),e.jsxs("figure",{className:"mb-12",children:[e.jsx("div",{className:"aspect-video w-full overflow-hidden bg-gray-100 rounded-sm shadow-xl",children:e.jsx("img",{src:a.image,className:"w-full h-full object-cover",alt:a.title})}),e.jsx("figcaption",{className:"mt-4 text-xs text-gray-400 font-medium italic border-l-2 border-gray-200 pl-5",children:"Photo Credit: The Bold East Africa Intelligence / Reuters."})]}),e.jsxs("div",{className:"prose prose-xl max-w-none text-gray-800 leading-relaxed space-y-10 font-light tracking-wide",children:[e.jsx("p",{className:"text-2xl md:text-3xl font-serif italic text-gray-500 mb-12 leading-relaxed border-l-4 border-[#001733] pl-10",children:a.excerpt}),e.jsx("div",{className:"article-content text-xl leading-relaxed text-gray-800 font-light tracking-wide",children:a.content?y(a.content).map((t,c)=>{let i=null;c===2&&l.length>0?i=e.jsxs("div",{className:"my-10 border-y border-gray-100 py-6 bg-gray-50 px-6",children:[e.jsx("span",{className:"text-xs font-black text-[#e5002b] uppercase tracking-widest block mb-2",children:"Also Read"}),e.jsx(r,{to:`/article/${d(l[0].title)}`,className:"text-xl font-bold text-[#001733] hover:underline leading-tight block",children:l[0].title})]}):c===5&&l.length>1&&(i=e.jsxs("div",{className:"my-10 border-y border-gray-100 py-6 bg-gray-50 px-6",children:[e.jsx("span",{className:"text-xs font-black text-[#e5002b] uppercase tracking-widest block mb-2",children:"Related"}),e.jsx(r,{to:`/article/${d(l[1].title)}`,className:"text-xl font-bold text-[#001733] hover:underline leading-tight block",children:l[1].title})]}));let s;return t.type==="image"?s=e.jsxs("figure",{className:"my-10",children:[e.jsx("img",{src:t.src,alt:t.alt,className:"w-full h-auto rounded-sm"}),t.alt&&e.jsx("figcaption",{className:"mt-2 text-sm text-gray-500 italic text-center",children:t.alt})]}):t.type==="quote"?s=e.jsx("blockquote",{className:"my-10 pl-6 border-l-4 border-[#e5002b] italic text-2xl text-gray-700 font-serif",children:e.jsx("div",{dangerouslySetInnerHTML:{__html:t.content}})}):s=e.jsx("p",{className:"mb-8",dangerouslySetInnerHTML:{__html:t.content}}),e.jsxs(k.Fragment,{children:[s,i]},c)}):e.jsx("div",{className:"text-xl space-y-8 text-gray-500 italic",children:e.jsx("p",{children:"Full article content is not available yet."})})})]})]}),e.jsxs("section",{className:"mt-24",children:[e.jsxs("div",{className:"flex justify-between items-end border-b-2 border-black pb-4 mb-12",children:[e.jsx("h3",{className:"text-3xl font-bold uppercase tracking-widest",children:"You May Also Like"}),e.jsx(r,{to:"/",className:"text-xs font-bold uppercase text-gray-400 hover:text-black",children:"More News →"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:l.map(t=>e.jsx(v,{article:t,layout:"grid"},t.id))})]})]}),e.jsx("aside",{className:"lg:col-span-4 flex flex-col gap-16",children:e.jsxs("div",{className:"sticky top-28 space-y-16",children:[e.jsxs("div",{className:"bg-gray-50 p-10 rounded-sm",children:[e.jsxs("h3",{className:"text-xs font-black uppercase tracking-[0.2em] text-[#001733] border-b border-gray-200 pb-3 mb-8",children:["More in ",a.category]}),e.jsx("div",{className:"space-y-8",children:l.slice(0,3).map(t=>e.jsx("div",{className:"group border-b border-gray-100 last:border-0 pb-8 last:pb-0",children:e.jsxs(r,{to:`/article/${d(t.title)}`,children:[e.jsx("span",{className:"text-[10px] font-bold text-[#e5002b] uppercase tracking-widest mb-2 block",children:t.date}),e.jsx("h4",{className:"text-xl font-bold leading-snug group-hover:text-[#001733] transition-colors",children:t.title})]})},t.id))})]}),e.jsx(p,{type:"banner"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-black uppercase tracking-[0.2em] text-[#001733] border-b border-black pb-3 mb-8",children:"Trending Now"}),e.jsx("div",{className:"space-y-8",children:j.map((t,c)=>e.jsxs("div",{className:"flex gap-6 group cursor-pointer",children:[e.jsxs("div",{className:"text-5xl font-extrabold text-gray-100 group-hover:text-gray-200 transition-colors",children:["0",c+1]}),e.jsx("div",{children:e.jsxs(r,{to:`/article/${d(t.title)}`,children:[e.jsx("h4",{className:"font-bold text-lg leading-tight mb-3 group-hover:text-[#e5002b] transition-colors",children:t.title}),e.jsx("span",{className:"text-xs text-gray-400 font-bold uppercase tracking-widest",children:t.category})]})})]},t.id))})]})]})})]})]})})};export{L as default};
